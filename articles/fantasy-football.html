<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>fantasy-football • fflr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="fantasy-football">
<meta property="og:description" content="fflr">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fflr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/fantasy-football.html">fantasy-football</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/kiernann/fflr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="fantasy-football_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>fantasy-football</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/kiernann/fflr/blob/master/vignettes/fantasy-football.Rmd"><code>vignettes/fantasy-football.Rmd</code></a></small>
      <div class="hidden name"><code>fantasy-football.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://github.com/kiernann/fflr">fflr</a></span>)
<span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html">packageVersion</a></span>(<span class="st">"fflr"</span>)
<span class="co">#&gt; [1] '0.3.7'</span>
</pre></div>
<p>The fflr package helps easily access data from the ESPN fantasy football v3 API. Both current and historical data can be</p>
<div id="games" class="section level2">
<h2 class="hasAnchor">
<a href="#games" class="anchor"></a>Games</h2>
<p>Some functions work independently of your specific league. As of now, this package only works with data from fantasy football leagues, but other fantasy sports exist.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="../reference/espn_games.html">espn_games</a></span>()
<span class="co">#&gt; # A tibble: 4 x 7</span>
<span class="co">#&gt;   game  active  year pro_league pro_sport start_date         </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;lgl&gt;  &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;dttm&gt;             </span>
<span class="co">#&gt; 1 FFL   TRUE    2020 NFL        football  2020-03-09 07:00:00</span>
<span class="co">#&gt; 2 FLB   TRUE    2020 MLB        baseball  2020-01-22 08:00:00</span>
<span class="co">#&gt; 3 FBA   TRUE    2020 NBA        basketba… 2019-06-14 07:00:00</span>
<span class="co">#&gt; 4 FHL   TRUE    2020 NHL        hockey    2019-07-19 07:00:00</span>
<span class="co">#&gt; # … with 1 more variable: end_date &lt;dttm&gt;</span>
</pre></div>
<p>This package is designed to retrieve both current and historical data from the ESPN api. There are 17 years of seasons listed in the API!</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="../reference/ffl_seasons.html">ffl_seasons</a></span>()
<span class="co">#&gt; # A tibble: 17 x 6</span>
<span class="co">#&gt;    game   year  week pro_league start_date          end_date           </span>
<span class="co">#&gt;    &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;dttm&gt;              &lt;dttm&gt;             </span>
<span class="co">#&gt;  1 FFL    2020     5 NFL        2020-03-09 07:00:00 2022-03-09 07:00:00</span>
<span class="co">#&gt;  2 FFL    2019    18 NFL        2019-02-06 08:00:00 2020-03-09 07:00:00</span>
<span class="co">#&gt;  3 FFL    2018    18 NFL        2018-01-01 08:00:00 2019-02-06 08:00:00</span>
<span class="co">#&gt;  4 FFL    2017    18 NFL        2017-01-01 08:00:00 2019-01-01 08:00:00</span>
<span class="co">#&gt;  5 FFL    2016    18 NFL        2016-01-01 05:00:00 2018-01-01 05:00:00</span>
<span class="co">#&gt;  6 FFL    2015    18 NFL        2015-01-01 05:00:00 2016-01-01 04:59:59</span>
<span class="co">#&gt;  7 FFL    2014    18 NFL        2014-01-01 05:00:00 2015-01-01 04:59:59</span>
<span class="co">#&gt;  8 FFL    2013    18 NFL        2013-01-01 05:00:00 2014-01-01 04:59:59</span>
<span class="co">#&gt;  9 FFL    2012    18 NFL        2012-01-03 05:00:00 2013-01-01 04:59:59</span>
<span class="co">#&gt; 10 FFL    2011    18 NFL        2011-01-01 05:00:00 2012-01-03 05:00:00</span>
<span class="co">#&gt; 11 FFL    2010    18 NFL        2010-01-04 05:00:00 2011-01-01 05:00:00</span>
<span class="co">#&gt; 12 FFL    2009    18 NFL        2009-01-01 05:00:00 2010-01-04 05:00:00</span>
<span class="co">#&gt; 13 FFL    2008    18 NFL        2008-06-06 04:00:00 2009-01-01 05:00:00</span>
<span class="co">#&gt; 14 FFL    2007    18 NFL        2007-01-01 05:00:00 2008-06-06 04:00:00</span>
<span class="co">#&gt; 15 FFL    2006    18 NFL        2006-01-01 05:00:00 2007-01-01 05:00:00</span>
<span class="co">#&gt; 16 FFL    2005    18 NFL        2005-01-01 05:00:00 2006-01-01 05:00:00</span>
<span class="co">#&gt; 17 FFL    2004    18 NFL        2004-06-01 04:00:00 2005-01-01 05:00:00</span>
</pre></div>
<p>The current season and scoring period are pieces of data that can be easily accessed and referenced for data manipulation.</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="fu"><a href="../reference/ffl_info.html">ffl_info</a></span>())
<span class="co">#&gt; List of 6</span>
<span class="co">#&gt;  $ game      : chr "FFL"</span>
<span class="co">#&gt;  $ active    : logi TRUE</span>
<span class="co">#&gt;  $ year      : int 2020</span>
<span class="co">#&gt;  $ week      : int 5</span>
<span class="co">#&gt;  $ start_date: POSIXct[1:1], format: "2020-03-09 07:00:00"</span>
<span class="co">#&gt;  $ end_date  : POSIXct[1:1], format: "2022-03-09 07:00:00"</span>
</pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="fu"><a href="../reference/ffl_year.html">ffl_year</a></span>()
<span class="co">#&gt; [1] 2020</span>
<span class="fu"><a href="../reference/ffl_week.html">ffl_week</a></span>()
<span class="co">#&gt; [1] 5</span>
</pre></div>
<p>To easily refer to past or future years and weeks, simply add an offset integer.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="fu"><a href="../reference/ffl_year.html">ffl_year</a></span>(offset = <span class="op">-</span><span class="fl">2</span>)
<span class="co">#&gt; [1] 2018</span>
<span class="fu"><a href="../reference/ffl_week.html">ffl_week</a></span>(offset =  <span class="fl">1</span>)
<span class="co">#&gt; [1] 6</span>
</pre></div>
</div>
<div id="leagues" class="section level2">
<h2 class="hasAnchor">
<a href="#leagues" class="anchor"></a>Leagues</h2>
<p>To access data on your league you will need to first use the league manager tools to make your league viewable to the public. This <a href="https://support.espn.com/hc/en-us/articles/360000064451-Making-a-Private-League-Viewable-to-the-Public">ESPN help page</a> explains how this can be done; the option is found in the basic settings section of the fantasy football website.</p>
<p>Once your league is set to public, you’ll need to find the unique numeric league ID found in the URL of any page. This league ID (LID) is needed to access league specific information like rosters, scores, and transactions.</p>
<pre>
https://fantasy.espn.com/football/league?leagueId=<b>252353</b>
</pre>
<p>For convenience, the <code>lid</code> argument to most functions defaults to looking for an “lid” global option. This option can be easily set using the <code><a href="../reference/set_lid.html">set_lid()</a></code> function, which uses <code><a href="https://rdrr.io/r/base/options.html">options()</a></code> to save your league ID in your R profile which is loaded on start up.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="fu"><a href="../reference/set_lid.html">set_lid</a></span>(<span class="fl">252353</span>)
<span class="co">#&gt; new league ID set</span>
</pre></div>
<p>With our league ID option set, we can now easily retrieve league information.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="fu"><a href="../reference/league_info.html">league_info</a></span>())
<span class="co">#&gt; List of 6</span>
<span class="co">#&gt;  $ year  : int 2020</span>
<span class="co">#&gt;  $ name  : chr "Gambling Addicts Anonymous"</span>
<span class="co">#&gt;  $ id    : int 252353</span>
<span class="co">#&gt;  $ public: logi TRUE</span>
<span class="co">#&gt;  $ size  : int 8</span>
<span class="co">#&gt;  $ length: int 16</span>
</pre></div>
<p>As we can see, my league this season has 8 teams and runs for 16 weeks.</p>
<p>Before we look into fantasy scores and player data, we’ll look a little more into how our league is set up.</p>
<p>We can identify the league members and the fantasy teams they own. Fantasy teams can have multiple owners, so team owners are identified by a nested list of unique member hashes.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="fu"><a href="../reference/league_members.html">league_members</a></span>()
<span class="co">#&gt; # A tibble: 8 x 4</span>
<span class="co">#&gt;    year user              owners                                 lm   </span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;             &lt;chr&gt;                                  &lt;lgl&gt;</span>
<span class="co">#&gt; 1  2020 Angusg396         {12E61406-349A-4DC7-A614-06349AADC797} FALSE</span>
<span class="co">#&gt; 2  2020 k5cents_          {22DFE7FF-9DF2-4F3B-9FE7-FF9DF2AF3BD2} TRUE </span>
<span class="co">#&gt; 3  2020 NAudet14          {35D9B7DB-E821-453C-99B7-DBE821353C36} FALSE</span>
<span class="co">#&gt; 4  2020 b.pepe            {5FA14794-6573-4189-A147-9465737189B2} FALSE</span>
<span class="co">#&gt; 5  2020 Billy.Slocum      {91F8B424-1689-472E-B8B4-241689172E35} FALSE</span>
<span class="co">#&gt; 6  2020 ESPNfan0199065799 {9A722A48-6E16-42BC-9E0E-AC9E4E6D7ABC} FALSE</span>
<span class="co">#&gt; 7  2020 espnfan1043876390 {C61F403A-F689-4269-879E-145B897F2308} FALSE</span>
<span class="co">#&gt; 8  2020 MrBruiser12       {F33F0723-2CC3-4A1C-BF07-232CC34A1C15} FALSE</span>
</pre></div>
<p>League teams are occasionally only identified by their team number instead of their nickname or abbreviation. The data frame returned by <code><a href="../reference/league_teams.html">league_teams()</a></code> can be used to convert these team numbers.</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
(<span class="kw">teams</span> <span class="op">=</span> <span class="fu"><a href="../reference/league_teams.html">league_teams</a></span>())
<span class="co">#&gt; # A tibble: 8 x 5</span>
<span class="co">#&gt;    year  team abbrev owners    name                    </span>
<span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;fct&gt;  &lt;list&gt;    &lt;chr&gt;                   </span>
<span class="co">#&gt; 1  2020     1 AGUS   &lt;chr [1]&gt; Obi-Wan Mahomey         </span>
<span class="co">#&gt; 2  2020     3 PEPE   &lt;chr [1]&gt; JuJu's Bizarre Adventure</span>
<span class="co">#&gt; 3  2020     4 BILL   &lt;chr [1]&gt; Bill's Fantasy Team     </span>
<span class="co">#&gt; 4  2020     5 CART   &lt;chr [1]&gt; Kenyan Younghoes        </span>
<span class="co">#&gt; 5  2020     6 KIER   &lt;chr [1]&gt; The Nuklear Option      </span>
<span class="co">#&gt; 6  2020     8 CORE   &lt;chr [1]&gt; BIG TRUZZZ              </span>
<span class="co">#&gt; 7  2020    10 NICK   &lt;chr [1]&gt; The Silence Of The Lamb </span>
<span class="co">#&gt; 8  2020    11 KYLE   &lt;chr [1]&gt; Harry Ruggs</span>
</pre></div>
<p>The <code><a href="../reference/team_abbrev.html">team_abbrev()</a></code> function makes this conversion simple.</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="fu"><a href="../reference/team_abbrev.html">team_abbrev</a></span>(id = <span class="fl">6</span>, <span class="kw">teams</span>)
<span class="co">#&gt; [1] KIER</span>
<span class="co">#&gt; Levels: AGUS PEPE BILL CART KIER CORE NICK KYLE</span>
</pre></div>
<p>One caveat about the design of this package: most of the functions were designed and tested using the settings from the author’s own fantasy league. Functions relying on certain scoring or roster settings are particularly vulnerable for the time being. These settings can be referenced with the <code>*_settings()</code> functions and may be integrated in the future.</p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="fu"><a href="../reference/roster_settings.html">roster_settings</a></span>()
<span class="co">#&gt; $year</span>
<span class="co">#&gt; [1] 2020</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $use_undrop</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $lineup_lock</span>
<span class="co">#&gt; [1] "INDIVIDUAL_GAME"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $roster_lock</span>
<span class="co">#&gt; [1] "INDIVIDUAL_GAME"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $move_limit</span>
<span class="co">#&gt; [1] -1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $slot_count</span>
<span class="co">#&gt; QB RB WR TE DS PK BE IR FX </span>
<span class="co">#&gt;  1  2  2  1  1  1  7  1  1 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $pos_count</span>
<span class="co">#&gt; QB RB WR TE PK DS </span>
<span class="co">#&gt;  4  8  8  3  3  3</span>
<span class="fu"><a href="../reference/score_settings.html">score_settings</a></span>()
<span class="co">#&gt; $year</span>
<span class="co">#&gt; [1] 2020</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $score_type</span>
<span class="co">#&gt; [1] "H2H_POINTS"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $rank_type</span>
<span class="co">#&gt; [1] "STANDARD"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $home_bonus</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $playoff_bonus</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $playoff_tie</span>
<span class="co">#&gt; [1] "NONE"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $scoring</span>
<span class="co">#&gt; # A tibble: 44 x 3</span>
<span class="co">#&gt;     stat points overrides</span>
<span class="co">#&gt;    &lt;int&gt;  &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1   132      0        -2</span>
<span class="co">#&gt;  2   133      0        -3</span>
<span class="co">#&gt;  3    98      0         4</span>
<span class="co">#&gt;  4    25      6        NA</span>
<span class="co">#&gt;  5   131      0        -1</span>
<span class="co">#&gt;  6   134      0        -4</span>
<span class="co">#&gt;  7    95      0         3</span>
<span class="co">#&gt;  8    72     -2        NA</span>
<span class="co">#&gt;  9   135      0        -5</span>
<span class="co">#&gt; 10   206      2         4</span>
<span class="co">#&gt; # … with 34 more rows</span>
</pre></div>
</div>
<div id="players" class="section level2">
<h2 class="hasAnchor">
<a href="#players" class="anchor"></a>Players</h2>
<p>There are over a thousand players in the NFL eligible for fantasy football. The full list of current players can be retrieved at any time.</p>
<div class="sourceCode" id="cb13"><pre class="downlit">
<span class="fu"><a href="../reference/all_players.html">all_players</a></span>()
<span class="co">#&gt; # A tibble: 1,062 x 19</span>
<span class="co">#&gt;     year  week     id first last  pro   pos   status start  rost change   prk</span>
<span class="co">#&gt;    &lt;int&gt; &lt;dbl&gt;  &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;fct&gt; &lt;fct&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;</span>
<span class="co">#&gt;  1  2020     5 3.05e6 Ezek… Elli… Dal   RB    A      0.998 1.00   0         4</span>
<span class="co">#&gt;  2  2020     5 3.05e6 Alvin Kama… NO    RB    A      0.998 1.00  -0.001     1</span>
<span class="co">#&gt;  3  2020     5 3.12e6 Dalv… Cook  Min   RB    A      0.996 1.00   0         3</span>
<span class="co">#&gt;  4  2020     5 1.58e4 Trav… Kelce KC    TE    A      0.983 1.00  -0.002     2</span>
<span class="co">#&gt;  5  2020     5 1.58e4 DeAn… Hopk… Ari   WR    A      0.992 0.999  0        11</span>
<span class="co">#&gt;  6  2020     5 3.12e6 Tyre… Hill  KC    WR    A      0.971 0.999 -0.003     4</span>
<span class="co">#&gt;  7  2020     5 3.14e6 Patr… Maho… KC    QB    A      0.933 0.999 -0.003     4</span>
<span class="co">#&gt;  8  2020     5 3.04e6 Derr… Henry Ten   RB    A      0.837 0.999  0.028    17</span>
<span class="co">#&gt;  9  2020     5 3.92e6 Lamar Jack… Bal   QB    Q      0.902 0.999 -0.006     8</span>
<span class="co">#&gt; 10  2020     5 3.04e6 Geor… Kitt… SF    TE    A      0.961 0.999  0.027    12</span>
<span class="co">#&gt; # … with 1,052 more rows, and 7 more variables: fpts &lt;dbl&gt;, aav &lt;dbl&gt;,</span>
<span class="co">#&gt; #   adp &lt;dbl&gt;, next_wk &lt;dbl&gt;, last_wk &lt;dbl&gt;, last_szn &lt;dbl&gt;, this_szn &lt;dbl&gt;</span>
</pre></div>
<p>Each player is identified by their unique ID. Sometimes, only those player IDs are given. Team positions like defenses have negative IDs, but information on individual players can be retrieved from the generic ESPN (non-fantasy) API.</p>
<div class="sourceCode" id="cb14"><pre class="downlit">
<span class="fu"><a href="../reference/player_info.html">player_info</a></span>(id = <span class="fl">3054850</span>, row = <span class="fl">TRUE</span>)
<span class="co">#&gt; # A tibble: 1 x 12</span>
<span class="co">#&gt;       id first last  pos   jersey weight height   age birth_date birth_place</span>
<span class="co">#&gt;    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt; &lt;date&gt;     &lt;chr&gt;      </span>
<span class="co">#&gt; 1 3.05e6 Alvin Kama… RB    41        215     70    25 1995-07-25 Atlanta, GA</span>
<span class="co">#&gt; # … with 2 more variables: debut &lt;int&gt;, draft &lt;int&gt;</span>
</pre></div>
<p>For your convenience, a table of active players is saved as a data frame.</p>
<div class="sourceCode" id="cb15"><pre class="downlit">
<span class="kw">nfl_players</span>
<span class="co">#&gt; # A tibble: 1,062 x 11</span>
<span class="co">#&gt;         id first  last   pro   pos   jersey weight height   age birth      debut</span>
<span class="co">#&gt;      &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;fct&gt; &lt;fct&gt; &lt;chr&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt; &lt;date&gt;     &lt;int&gt;</span>
<span class="co">#&gt;  1 3051392 Ezeki… Ellio… Dal   RB    21        228     72    25 1995-07-22  2016</span>
<span class="co">#&gt;  2 3054850 Alvin  Kamara NO    RB    41        215     70    25 1995-07-25  2017</span>
<span class="co">#&gt;  3 3116593 Dalvin Cook   Min   RB    33        210     70    25 1995-08-10  2017</span>
<span class="co">#&gt;  4   15795 DeAnd… Hopki… Ari   WR    10        212     73    28 1992-06-06  2013</span>
<span class="co">#&gt;  5   15847 Travis Kelce  KC    TE    87        260     77    30 1989-10-05  2013</span>
<span class="co">#&gt;  6 3116406 Tyreek Hill   KC    WR    10        185     70    26 1994-03-01  2016</span>
<span class="co">#&gt;  7 3139477 Patri… Mahom… KC    QB    15        230     75    25 1995-09-17  2017</span>
<span class="co">#&gt;  8 3916387 Lamar  Jacks… Bal   QB    8         212     74    23 1997-01-07  2018</span>
<span class="co">#&gt;  9   16800 Davan… Adams  GB    WR    17        215     73    27 1992-12-24  2014</span>
<span class="co">#&gt; 10 3040151 George Kittle SF    TE    85        250     76    26 1993-10-09  2017</span>
<span class="co">#&gt; # … with 1,052 more rows</span>
</pre></div>
<p>News on an individual player can also be helpful.</p>
<div class="sourceCode" id="cb16"><pre class="downlit">
<span class="fu"><a href="../reference/player_news.html">player_news</a></span>(id = <span class="fl">15847</span>)
<span class="co">#&gt; # A tibble: 13 x 6</span>
<span class="co">#&gt;       id published           type   premium headline            body            </span>
<span class="co">#&gt;    &lt;int&gt; &lt;dttm&gt;              &lt;chr&gt;  &lt;lgl&gt;   &lt;chr&gt;               &lt;chr&gt;           </span>
<span class="co">#&gt;  1 15847 2020-10-06 02:42:22 Rotow… FALSE   Kelce caught three… "Kelce again le…</span>
<span class="co">#&gt;  2 15847 2020-09-29 04:45:45 Rotow… FALSE   Kelce caught six o… "Kelce led the …</span>
<span class="co">#&gt;  3 15847 2020-09-21 02:08:04 Rotow… FALSE   Kelce caught nine … "Kelce led the …</span>
<span class="co">#&gt;  4 15847 2020-09-11 04:24:20 Rotow… FALSE   Kelce brought in a… "The big tight …</span>
<span class="co">#&gt;  5 15847 2020-09-08 20:58:01 Rotow… FALSE   Kelce (knee) was a… "After being li…</span>
<span class="co">#&gt;  6 15847 2020-09-08 10:32:10 Story  TRUE    Predicting 2020 NF… "&lt;p&gt;&lt;video1&gt;&lt;/v…</span>
<span class="co">#&gt;  7 15847 2020-09-07 23:10:05 Rotow… FALSE   Kelce (knee) was l… "Kelce has deal…</span>
<span class="co">#&gt;  8 15847 2020-08-17 15:31:14 Story  FALSE   Inventing 32 props… "&lt;p&gt;&lt;video1&gt;&lt;/v…</span>
<span class="co">#&gt;  9 15847 2020-08-13 19:13:15 Rotow… FALSE   The Chiefs and Kel… "The exact para…</span>
<span class="co">#&gt; 10 15847 2020-08-13 18:33:26 Rotow… FALSE   The Chiefs and Kel… "Parameters of …</span>
<span class="co">#&gt; 11 15847 2020-02-03 04:23:02 Rotow… FALSE   Kelce brought in a… "Kelce's recept…</span>
<span class="co">#&gt; 12 15847 2020-01-24 22:43:49 Rotow… FALSE   Kelce (knee) doesn… "During the fir…</span>
<span class="co">#&gt; 13 15847 2020-01-24 19:24:58 Rotow… FALSE   Kelce (knee) is pa… "Kelce was held…</span>
</pre></div>
<p>ESPN analysts publish weekly and pre-season outlooks on most players.</p>
<div class="sourceCode" id="cb17"><pre class="downlit">
<span class="kw">outlooks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/player_outlook.html">player_outlook</a></span>()
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(<span class="kw">outlooks</span>)
</pre></div>
<p><a href="https://support.espn.com/hc/en-us/articles/360000064451-Making-a-Private-League-Viewable-to-the-Public">1</a> 2746</p>
<div class="sourceCode" id="cb18"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"&gt;"</span>, <span class="kw">outlooks</span><span class="op">$</span><span class="kw">outlook</span>[<span class="fl">1</span>]))
</pre></div>
<blockquote>
<p>Elliott returns as the clear feature back in Dallas. Since entering the league in 2016, the Ohio State product leads the NFL in carries (1,169) and rushing yards (5,405), and sits second in rushing touchdowns (40). Elliott obviously plays a substantial role as a ball carrier – and his goal-line work increased last season – but it was a bit surprising to see his targets fall from 6.3 to 4.4 per game last season. Of course, Elliott’s role still allowed him a top-3 finish in touches, yards and fantasy points. The 25-year-old is positioned for a similar role in 2020 behind a strong offensive line and should be off the board in the middle of the first round of drafts.</p>
</blockquote>
</div>
<div id="rosters" class="section level2">
<h2 class="hasAnchor">
<a href="#rosters" class="anchor"></a>Rosters</h2>
<p>For the team rosters in your league, a list of data frames can be returned.</p>
<div class="sourceCode" id="cb19"><pre class="downlit">
<span class="kw">rosters</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/team_roster.html">team_roster</a></span>()
</pre></div>
<p>The elements of this list are named for their team abbreviation.</p>
<div class="sourceCode" id="cb20"><pre class="downlit">
<span class="kw">rosters</span><span class="op">$</span><span class="kw">KIER</span>
<span class="co">#&gt; # A tibble: 16 x 15</span>
<span class="co">#&gt;     year  week team  slot       id first last  pro   pos   status  proj score</span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;fct&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;fct&gt; &lt;fct&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1  2020     5 KIER  QB    4038524 Gard… Mins… Jax   QB    A      19.4   NA  </span>
<span class="co">#&gt;  2  2020     5 KIER  RB    3054850 Alvin Kama… NO    RB    A      16.0   NA  </span>
<span class="co">#&gt;  3  2020     5 KIER  RB    3025433 Mike  Davis Car   RB    A      14.1   NA  </span>
<span class="co">#&gt;  4  2020     5 KIER  WR      15795 DeAn… Hopk… Ari   WR    A      11.6   NA  </span>
<span class="co">#&gt;  5  2020     5 KIER  WR      16733 Odell Beck… Cle   WR    A       9.27  NA  </span>
<span class="co">#&gt;  6  2020     5 KIER  TE      15847 Trav… Kelce KC    TE    A      10.8   NA  </span>
<span class="co">#&gt;  7  2020     5 KIER  FX    2508176 David John… Hou   RB    A      12.9   NA  </span>
<span class="co">#&gt;  8  2020     5 KIER  DS     -16014 Rams  D/ST  LAR   DS    A       6.01  NA  </span>
<span class="co">#&gt;  9  2020     5 KIER  PK    3915165 Rodr… Blan… Ind   PK    A       9.49  NA  </span>
<span class="co">#&gt; 10  2020     5 KIER  BE    2977187 Coop… Kupp  LAR   WR    A       9.40  NA  </span>
<span class="co">#&gt; 11  2020     5 KIER  BE    4242335 Jona… Tayl… Ind   RB    A      12.4   NA  </span>
<span class="co">#&gt; 12  2020     5 KIER  BE    4035538 David Mont… Chi   RB    A       9.83  11.9</span>
<span class="co">#&gt; 13  2020     5 KIER  BE    3912550 Rona… Jone… TB    RB    A      11.9   12.5</span>
<span class="co">#&gt; 14  2020     5 KIER  BE    3886818 Myles Gask… Mia   RB    A       9.46  NA  </span>
<span class="co">#&gt; 15  2020     5 KIER  BE    3915511 Joe   Burr… Cin   QB    A      16.9   NA  </span>
<span class="co">#&gt; 16  2020     5 KIER  BE      15835 Zach  Ertz  Phi   TE    A       7.43  NA  </span>
<span class="co">#&gt; # … with 3 more variables: start &lt;dbl&gt;, rost &lt;dbl&gt;, change &lt;dbl&gt;</span>
</pre></div>
<p>We can easily identify the current starting roster, dropping bench players and those on injury reserve.</p>
<div class="sourceCode" id="cb21"><pre class="downlit">
<span class="fu"><a href="../reference/start_roster.html">start_roster</a></span>(<span class="kw">rosters</span><span class="op">$</span><span class="kw">KIER</span>)
<span class="co">#&gt; # A tibble: 9 x 15</span>
<span class="co">#&gt;    year  week team  slot       id first last  pro   pos   status  proj score</span>
<span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;fct&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;fct&gt; &lt;fct&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1  2020     5 KIER  QB    4038524 Gard… Mins… Jax   QB    A      19.4     NA</span>
<span class="co">#&gt; 2  2020     5 KIER  RB    3054850 Alvin Kama… NO    RB    A      16.0     NA</span>
<span class="co">#&gt; 3  2020     5 KIER  RB    3025433 Mike  Davis Car   RB    A      14.1     NA</span>
<span class="co">#&gt; 4  2020     5 KIER  WR      15795 DeAn… Hopk… Ari   WR    A      11.6     NA</span>
<span class="co">#&gt; 5  2020     5 KIER  WR      16733 Odell Beck… Cle   WR    A       9.27    NA</span>
<span class="co">#&gt; 6  2020     5 KIER  TE      15847 Trav… Kelce KC    TE    A      10.8     NA</span>
<span class="co">#&gt; 7  2020     5 KIER  FX    2508176 David John… Hou   RB    A      12.9     NA</span>
<span class="co">#&gt; 8  2020     5 KIER  DS     -16014 Rams  D/ST  LAR   DS    A       6.01    NA</span>
<span class="co">#&gt; 9  2020     5 KIER  PK    3915165 Rodr… Blan… Ind   PK    A       9.49    NA</span>
<span class="co">#&gt; # … with 3 more variables: start &lt;dbl&gt;, rost &lt;dbl&gt;, change &lt;dbl&gt;</span>
</pre></div>
<p>We can also easily filter for the starting roster that has the highest projected or past score. The score total for that roster can also be easily summed.</p>
<div class="sourceCode" id="cb22"><pre class="downlit">
(<span class="kw">best</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/best_roster.html">best_roster</a></span>(<span class="kw">rosters</span><span class="op">$</span><span class="kw">KIER</span>))
<span class="co">#&gt; # A tibble: 9 x 14</span>
<span class="co">#&gt;    year  week team  slot       id first last  pro   pos   status score start</span>
<span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;fct&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;fct&gt; &lt;fct&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1  2020     5 KIER  QB    4038524 Gard… Mins… Jax   QB    A      19.4   30.8</span>
<span class="co">#&gt; 2  2020     5 KIER  RB    3054850 Alvin Kama… NO    RB    A      16.0   99.8</span>
<span class="co">#&gt; 3  2020     5 KIER  RB    3025433 Mike  Davis Car   RB    A      14.1   89.7</span>
<span class="co">#&gt; 4  2020     5 KIER  WR      15795 DeAn… Hopk… Ari   WR    A      11.6   99.2</span>
<span class="co">#&gt; 5  2020     5 KIER  WR    2977187 Coop… Kupp  LAR   WR    A       9.40  82.5</span>
<span class="co">#&gt; 6  2020     5 KIER  TE      15847 Trav… Kelce KC    TE    A      10.8   98.3</span>
<span class="co">#&gt; 7  2020     5 KIER  FX    2508176 David John… Hou   RB    A      12.9   79.3</span>
<span class="co">#&gt; 8  2020     5 KIER  DS     -16014 Rams  D/ST  LAR   DS    A       6.01  76.7</span>
<span class="co">#&gt; 9  2020     5 KIER  PK    3915165 Rodr… Blan… Ind   PK    A       9.49  78.8</span>
<span class="co">#&gt; # … with 2 more variables: rost &lt;dbl&gt;, change &lt;dbl&gt;</span>
<span class="fu"><a href="../reference/roster_score.html">roster_score</a></span>(<span class="kw">best</span>)
<span class="co">#&gt; [1] 109.6638</span>
</pre></div>
<p>Players on a roster can also be compared against their professional schedule.</p>
<p>The 2020 NFL schedule is saved as the <code>nfl_schedule</code> table. This table might be out of date due to rescheduled games. The current schedule can be returned by <code><a href="../reference/pro_schedule.html">pro_schedule()</a></code>. The table also indicates if the games have started yet.</p>
<div class="sourceCode" id="cb23"><pre class="downlit">
(<span class="kw">sched</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ffl_merge.html">ffl_merge</a></span>(
  x = <span class="kw">rosters</span><span class="op">$</span><span class="kw">KIER</span>[, <span class="fl">1</span><span class="op">:</span><span class="fl">9</span>], 
  y = <span class="fu"><a href="../reference/pro_schedule.html">pro_schedule</a></span>()
))
<span class="co">#&gt; # A tibble: 16 x 13</span>
<span class="co">#&gt;     year  week team  slot       id first last  pro   pos   opp   home </span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;fct&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;lgl&gt;</span>
<span class="co">#&gt;  1  2020     5 KIER  QB    4038524 Gard… Mins… Jax   QB    Hou   FALSE</span>
<span class="co">#&gt;  2  2020     5 KIER  RB    3054850 Alvin Kama… NO    RB    LAC   TRUE </span>
<span class="co">#&gt;  3  2020     5 KIER  RB    3025433 Mike  Davis Car   RB    Atl   FALSE</span>
<span class="co">#&gt;  4  2020     5 KIER  WR      15795 DeAn… Hopk… Ari   WR    NYJ   FALSE</span>
<span class="co">#&gt;  5  2020     5 KIER  WR      16733 Odell Beck… Cle   WR    Ind   TRUE </span>
<span class="co">#&gt;  6  2020     5 KIER  TE      15847 Trav… Kelce KC    TE    LV    TRUE </span>
<span class="co">#&gt;  7  2020     5 KIER  FX    2508176 David John… Hou   RB    Jax   TRUE </span>
<span class="co">#&gt;  8  2020     5 KIER  DS     -16014 Rams  D/ST  LAR   DS    Wsh   FALSE</span>
<span class="co">#&gt;  9  2020     5 KIER  BE    2977187 Coop… Kupp  LAR   WR    Wsh   FALSE</span>
<span class="co">#&gt; 10  2020     5 KIER  PK    3915165 Rodr… Blan… Ind   PK    Cle   FALSE</span>
<span class="co">#&gt; 11  2020     5 KIER  BE    4242335 Jona… Tayl… Ind   RB    Cle   FALSE</span>
<span class="co">#&gt; 12  2020     5 KIER  BE    4035538 David Mont… Chi   RB    TB    TRUE </span>
<span class="co">#&gt; 13  2020     5 KIER  BE    3912550 Rona… Jone… TB    RB    Chi   FALSE</span>
<span class="co">#&gt; 14  2020     5 KIER  BE    3886818 Myles Gask… Mia   RB    SF    FALSE</span>
<span class="co">#&gt; 15  2020     5 KIER  BE    3915511 Joe   Burr… Cin   QB    Bal   FALSE</span>
<span class="co">#&gt; 16  2020     5 KIER  BE      15835 Zach  Ertz  Phi   TE    Pit   FALSE</span>
<span class="co">#&gt; # … with 2 more variables: kickoff &lt;dttm&gt;, future &lt;lgl&gt;</span>
</pre></div>
<p>The opponent teams for each player are ranked by the average points scored against them by each position. The lower the rank, the more points that position scores against the opponent team.</p>
<div class="sourceCode" id="cb24"><pre class="downlit">
<span class="fu"><a href="../reference/ffl_merge.html">ffl_merge</a></span>(
  x = <span class="kw">sched</span>[, <span class="fl">6</span><span class="op">:</span><span class="fl">10</span>], 
  y = <span class="fu"><a href="../reference/opponent_ranks.html">opponent_ranks</a></span>(), 
  by = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"pos"</span>, <span class="st">"opp"</span> = <span class="st">"pro"</span>)
)
<span class="co">#&gt; # A tibble: 15 x 7</span>
<span class="co">#&gt;    first    last        pro   pos   opp    rank   avg</span>
<span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt;       &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;int&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Gardner  Minshew II  Jax   QB    Hou      12  20.2</span>
<span class="co">#&gt;  2 Alvin    Kamara      NO    RB    LAC      18  19.1</span>
<span class="co">#&gt;  3 Mike     Davis       Car   RB    Atl       5  27.5</span>
<span class="co">#&gt;  4 DeAndre  Hopkins     Ari   WR    NYJ      29  17.3</span>
<span class="co">#&gt;  5 Odell    Beckham Jr. Cle   WR    Ind       3  34.5</span>
<span class="co">#&gt;  6 Travis   Kelce       KC    TE    LV       19   7.2</span>
<span class="co">#&gt;  7 David    Johnson     Hou   RB    Jax       3  27.9</span>
<span class="co">#&gt;  8 Rams     D/ST        LAR   DS    Wsh      22   0  </span>
<span class="co">#&gt;  9 Cooper   Kupp        LAR   WR    Wsh      27  17.6</span>
<span class="co">#&gt; 10 Jonathan Taylor      Ind   RB    Cle      30  12.1</span>
<span class="co">#&gt; 11 David    Montgomery  Chi   RB    TB       16  19.6</span>
<span class="co">#&gt; 12 Ronald   Jones II    TB    RB    Chi      24  16.5</span>
<span class="co">#&gt; 13 Myles    Gaskin      Mia   RB    SF        8  24.6</span>
<span class="co">#&gt; 14 Joe      Burrow      Cin   QB    Bal      25  16.9</span>
<span class="co">#&gt; 15 Zach     Ertz        Phi   TE    Pit       3  14.6</span>
</pre></div>
</div>
<div id="transactions" class="section level2">
<h2 class="hasAnchor">
<a href="#transactions" class="anchor"></a>Transactions</h2>
<p>If you’re interested in how the players on a roster were acquired you look at either the acquisition history, draft picks, or league roster moves.</p>
<p>Every roster identifies players by acquisition method.</p>
<div class="sourceCode" id="cb25"><pre class="downlit">
<span class="fu"><a href="../reference/player_acquire.html">player_acquire</a></span>()[[<span class="fl">5</span>]]
<span class="co">#&gt; # A tibble: 16 x 11</span>
<span class="co">#&gt;     year  week team  slot       id first last  pro   pos   method</span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;fct&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;fct&gt; &lt;fct&gt; &lt;chr&gt; </span>
<span class="co">#&gt;  1  2020     5 KIER  QB    4038524 Gard… Mins… Jax   QB    ADD   </span>
<span class="co">#&gt;  2  2020     5 KIER  RB    3054850 Alvin Kama… NO    RB    DRAFT </span>
<span class="co">#&gt;  3  2020     5 KIER  RB    3025433 Mike  Davis Car   RB    ADD   </span>
<span class="co">#&gt;  4  2020     5 KIER  WR      15795 DeAn… Hopk… Ari   WR    DRAFT </span>
<span class="co">#&gt;  5  2020     5 KIER  WR      16733 Odell Beck… Cle   WR    DRAFT </span>
<span class="co">#&gt;  6  2020     5 KIER  TE      15847 Trav… Kelce KC    TE    DRAFT </span>
<span class="co">#&gt;  7  2020     5 KIER  FX    2508176 David John… Hou   RB    DRAFT </span>
<span class="co">#&gt;  8  2020     5 KIER  DS     -16014 Rams  D/ST  LAR   DS    ADD   </span>
<span class="co">#&gt;  9  2020     5 KIER  PK    3915165 Rodr… Blan… Ind   PK    ADD   </span>
<span class="co">#&gt; 10  2020     5 KIER  BE    2977187 Coop… Kupp  LAR   WR    DRAFT </span>
<span class="co">#&gt; 11  2020     5 KIER  BE    4242335 Jona… Tayl… Ind   RB    DRAFT </span>
<span class="co">#&gt; 12  2020     5 KIER  BE    4035538 David Mont… Chi   RB    DRAFT </span>
<span class="co">#&gt; 13  2020     5 KIER  BE    3912550 Rona… Jone… TB    RB    DRAFT </span>
<span class="co">#&gt; 14  2020     5 KIER  BE    3886818 Myles Gask… Mia   RB    ADD   </span>
<span class="co">#&gt; 15  2020     5 KIER  BE    3915511 Joe   Burr… Cin   QB    ADD   </span>
<span class="co">#&gt; 16  2020     5 KIER  BE      15835 Zach  Ertz  Phi   TE    ADD   </span>
<span class="co">#&gt; # … with 1 more variable: date &lt;dttm&gt;</span>
</pre></div>
<p>Roster moves are any waiver add, lineup change, or trade. Roster moves only identify players by their ID, so we will merge with the players table. The <code><a href="../reference/ffl_merge.html">ffl_merge()</a></code> function uses <code><a href="https://rdrr.io/r/base/merge.html">merge()</a></code> to return a tibble of combined columns and rows in their same order.</p>
<div class="sourceCode" id="cb26"><pre class="downlit">
<span class="fu"><a href="../reference/ffl_merge.html">ffl_merge</a></span>(
  x = <span class="fu"><a href="../reference/roster_moves.html">roster_moves</a></span>()[, <span class="fl">7</span><span class="op">:</span><span class="fl">14</span>], 
  y = <span class="kw">nfl_players</span>[, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>]
)
<span class="co">#&gt; # A tibble: 74 x 10</span>
<span class="co">#&gt;    date                 team from_slot from_team     id to_slot to_team move </span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;int&gt; &lt;fct&gt;         &lt;int&gt;  &lt;int&gt; &lt;fct&gt;     &lt;int&gt; &lt;chr&gt;</span>
<span class="co">#&gt;  1 2020-10-07 15:44:30     6 BE               NA 3.92e6 PK           NA LINE…</span>
<span class="co">#&gt;  2 2020-10-07 15:01:36     5 &lt;NA&gt;             NA 3.92e6 &lt;NA&gt;          5 ADD  </span>
<span class="co">#&gt;  3 2020-10-07 15:01:36     6 &lt;NA&gt;             NA 3.92e6 &lt;NA&gt;          6 ADD  </span>
<span class="co">#&gt;  4 2020-10-08 15:00:26     8 &lt;NA&gt;             NA 3.92e6 &lt;NA&gt;          8 ADD  </span>
<span class="co">#&gt;  5 2020-10-09 17:27:27     8 BE               NA 3.92e6 RB           NA LINE…</span>
<span class="co">#&gt;  6 2020-10-09 17:28:34     8 RB               NA 3.92e6 BE           NA LINE…</span>
<span class="co">#&gt;  7 2020-10-08 15:00:26     8 &lt;NA&gt;              8 3.12e6 &lt;NA&gt;         NA DROP </span>
<span class="co">#&gt;  8 2020-10-07 15:44:19     8 RB               NA 3.12e6 BE           NA LINE…</span>
<span class="co">#&gt;  9 2020-10-07 15:01:36     6 &lt;NA&gt;              6 1.50e4 &lt;NA&gt;         NA DROP </span>
<span class="co">#&gt; 10 2020-10-07 18:43:26    11 BE               NA 3.93e6 RB           NA LINE…</span>
<span class="co">#&gt; # … with 64 more rows, and 2 more variables: first &lt;chr&gt;, last &lt;chr&gt;</span>
</pre></div>
<p>We can also get the entire history of the draft, either snake or auction.</p>
<div class="sourceCode" id="cb27"><pre class="downlit">
<span class="fu"><a href="../reference/ffl_merge.html">ffl_merge</a></span>(
  x = <span class="fu"><a href="../reference/draft_picks.html">draft_picks</a></span>(), 
  y = <span class="kw">nfl_players</span>[, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>]
)
<span class="co">#&gt; # A tibble: 128 x 9</span>
<span class="co">#&gt;     year type     pick nominator  team   bid      id first     last          </span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;         </span>
<span class="co">#&gt;  1  2020 AUCTION     1         8     4    57 3929630 Saquon    Barkley       </span>
<span class="co">#&gt;  2  2020 AUCTION     2         3     8    33 3916387 Lamar     Jackson       </span>
<span class="co">#&gt;  3  2020 AUCTION     3        10     3    23 3120348 JuJu      Smith-Schuster</span>
<span class="co">#&gt;  4  2020 AUCTION     4        11     1     3    2330 Tom       Brady         </span>
<span class="co">#&gt;  5  2020 AUCTION     5         5     1    32 4045163 Miles     Sanders       </span>
<span class="co">#&gt;  6  2020 AUCTION     6         4     8    81 3117251 Christian McCaffrey     </span>
<span class="co">#&gt;  7  2020 AUCTION     7         1     5    45 4047365 Josh      Jacobs        </span>
<span class="co">#&gt;  8  2020 AUCTION     8         6    10     7   13229 Rob       Gronkowski    </span>
<span class="co">#&gt;  9  2020 AUCTION     9         8    10    52 3043078 Derrick   Henry         </span>
<span class="co">#&gt; 10  2020 AUCTION    10         3    11    32   16737 Mike      Evans         </span>
<span class="co">#&gt; # … with 118 more rows</span>
</pre></div>
<p>A summary of transactions and moves is also available.</p>
<div class="sourceCode" id="cb28"><pre class="downlit">
<span class="fu"><a href="../reference/moves_summary.html">moves_summary</a></span>()
<span class="co">#&gt; # A tibble: 8 x 11</span>
<span class="co">#&gt;    year  week  team abbrev waiver spent acquisitions drops activated reserved</span>
<span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;fct&gt;   &lt;int&gt; &lt;int&gt;        &lt;int&gt; &lt;int&gt;     &lt;int&gt;    &lt;int&gt;</span>
<span class="co">#&gt; 1  2020     5     1 AGUS        1    24            6     6        20        0</span>
<span class="co">#&gt; 2  2020     5     3 PEPE        4    20            3     3        18        1</span>
<span class="co">#&gt; 3  2020     5     4 BILL        2    49            3     2        23        1</span>
<span class="co">#&gt; 4  2020     5     5 CART        3     9            4     4        15        0</span>
<span class="co">#&gt; 5  2020     5     6 KIER        5    29            8     8        16        1</span>
<span class="co">#&gt; 6  2020     5     8 CORE        7    37           11    10        24        1</span>
<span class="co">#&gt; 7  2020     5    10 NICK        6    31           12    12        27        2</span>
<span class="co">#&gt; 8  2020     5    11 KYLE        8    28            6     5        20        1</span>
<span class="co">#&gt; # … with 1 more variable: trades &lt;int&gt;</span>
</pre></div>
</div>
<div id="scores" class="section level2">
<h2 class="hasAnchor">
<a href="#scores" class="anchor"></a>Scores</h2>
<p>Past team scores are found in the tidy tibble by matchup period.</p>
<div class="sourceCode" id="cb29"><pre class="downlit">
<span class="fu"><a href="../reference/match_scores.html">match_scores</a></span>()
<span class="co">#&gt; # A tibble: 32 x 9</span>
<span class="co">#&gt;     year match week   team abbrev home  score winner power</span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;int&gt; &lt;fct&gt;  &lt;lgl&gt; &lt;dbl&gt; &lt;lgl&gt;  &lt;dbl&gt;</span>
<span class="co">#&gt;  1  2020     1 1         3 PEPE   TRUE  103.  TRUE       4</span>
<span class="co">#&gt;  2  2020     1 1         1 AGUS   FALSE  68.5 FALSE      0</span>
<span class="co">#&gt;  3  2020     2 1        10 NICK   TRUE   86.0 FALSE      1</span>
<span class="co">#&gt;  4  2020     2 1         4 BILL   FALSE 134.  TRUE       6</span>
<span class="co">#&gt;  5  2020     3 1         5 CART   TRUE  149.  TRUE       7</span>
<span class="co">#&gt;  6  2020     3 1        11 KYLE   FALSE  94.7 FALSE      2</span>
<span class="co">#&gt;  7  2020     4 1         8 CORE   TRUE  119.  TRUE       5</span>
<span class="co">#&gt;  8  2020     4 1         6 KIER   FALSE  99.7 FALSE      3</span>
<span class="co">#&gt;  9  2020     5 2         1 AGUS   TRUE  144.  TRUE       7</span>
<span class="co">#&gt; 10  2020     5 2         4 BILL   FALSE 110.  FALSE      2</span>
<span class="co">#&gt; # … with 22 more rows</span>
</pre></div>
<p>These scores are only for matches played. We can also determine future matches.</p>
<div class="sourceCode" id="cb30"><pre class="downlit">
<span class="fu"><a href="../reference/match_schedule.html">match_schedule</a></span>()
<span class="co">#&gt; # A tibble: 96 x 6</span>
<span class="co">#&gt;     year  week match team  opp   home </span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;fct&gt; &lt;lgl&gt;</span>
<span class="co">#&gt;  1  2020     1     1 PEPE  AGUS  TRUE </span>
<span class="co">#&gt;  2  2020     1     1 AGUS  PEPE  FALSE</span>
<span class="co">#&gt;  3  2020     1     2 NICK  BILL  TRUE </span>
<span class="co">#&gt;  4  2020     1     2 BILL  NICK  FALSE</span>
<span class="co">#&gt;  5  2020     1     3 CART  KYLE  TRUE </span>
<span class="co">#&gt;  6  2020     1     3 KYLE  CART  FALSE</span>
<span class="co">#&gt;  7  2020     1     4 CORE  KIER  TRUE </span>
<span class="co">#&gt;  8  2020     1     4 KIER  CORE  FALSE</span>
<span class="co">#&gt;  9  2020     2     5 AGUS  BILL  TRUE </span>
<span class="co">#&gt; 10  2020     2     5 BILL  AGUS  FALSE</span>
<span class="co">#&gt; # … with 86 more rows</span>
</pre></div>
<p>If a matchup period is currently ongoing, the live score and projection can also be found.</p>
<div class="sourceCode" id="cb31"><pre class="downlit">
<span class="fu"><a href="../reference/live_scoring.html">live_scoring</a></span>()
<span class="co">#&gt; # A tibble: 8 x 5</span>
<span class="co">#&gt;    week match team  score  proj</span>
<span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1     5    17 CORE    0    94.6</span>
<span class="co">#&gt; 2     5    17 AGUS    6    99.4</span>
<span class="co">#&gt; 3     5    18 KIER    0   110. </span>
<span class="co">#&gt; 4     5    18 CART    0   104. </span>
<span class="co">#&gt; 5     5    19 KYLE   10.1 105. </span>
<span class="co">#&gt; 6     5    19 NICK    0   110. </span>
<span class="co">#&gt; 7     5    20 BILL    9    98.7</span>
<span class="co">#&gt; 8     5    20 PEPE    0   101.</span>
</pre></div>
<p>It’s worth noting that matchups and weeks are different units of time. For this league, for example, regular season matchups last one week and playoff matches last two.</p>
<div class="sourceCode" id="cb32"><pre class="downlit">
<span class="fu"><a href="../reference/schedule_settings.html">schedule_settings</a></span>()
<span class="co">#&gt; $year</span>
<span class="co">#&gt; [1] 2020</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $divisions</span>
<span class="co">#&gt; # A tibble: 1 x 3</span>
<span class="co">#&gt;      id name   size</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt; &lt;int&gt;</span>
<span class="co">#&gt; 1     0 East      8</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $match_count</span>
<span class="co">#&gt; [1] 12</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $match_length</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $match_sched</span>
<span class="co">#&gt; # A tibble: 16 x 2</span>
<span class="co">#&gt;     week period</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt; </span>
<span class="co">#&gt;  1     1 1     </span>
<span class="co">#&gt;  2     2 2     </span>
<span class="co">#&gt;  3     3 3     </span>
<span class="co">#&gt;  4     4 4     </span>
<span class="co">#&gt;  5     5 5     </span>
<span class="co">#&gt;  6     6 6     </span>
<span class="co">#&gt;  7     7 7     </span>
<span class="co">#&gt;  8     8 8     </span>
<span class="co">#&gt;  9     9 9     </span>
<span class="co">#&gt; 10    10 10    </span>
<span class="co">#&gt; 11    11 11    </span>
<span class="co">#&gt; 12    12 12    </span>
<span class="co">#&gt; 13    13 13    </span>
<span class="co">#&gt; 14    14 13    </span>
<span class="co">#&gt; 15    16 14    </span>
<span class="co">#&gt; 16    15 14    </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $period_type</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $playoff_length</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $seed_rule</span>
<span class="co">#&gt; [1] "TOTAL_POINTS_SCORED"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $playoff_size</span>
<span class="co">#&gt; [1] 4</span>
</pre></div>
<p>If you want to return scores by <em>week</em>, use a different function. These functions also return “power wins” which are the total number of wins a team would get if they played every other team in the league; the lowest score gets zero power wins and the highest get’s one less than the number of teams.</p>
<div class="sourceCode" id="cb33"><pre class="downlit">
<span class="fu"><a href="../reference/week_scores.html">week_scores</a></span>()
<span class="co">#&gt; # A tibble: 32 x 8</span>
<span class="co">#&gt;     year match  week  team abbrev home  score power</span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;fct&gt;  &lt;lgl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1  2020     1     1     3 PEPE   TRUE  103.      4</span>
<span class="co">#&gt;  2  2020     1     1     1 AGUS   FALSE  68.5     0</span>
<span class="co">#&gt;  3  2020     2     1    10 NICK   TRUE   86.0     1</span>
<span class="co">#&gt;  4  2020     2     1     4 BILL   FALSE 134.      6</span>
<span class="co">#&gt;  5  2020     3     1     5 CART   TRUE  149.      7</span>
<span class="co">#&gt;  6  2020     3     1    11 KYLE   FALSE  94.7     2</span>
<span class="co">#&gt;  7  2020     4     1     8 CORE   TRUE  119.      5</span>
<span class="co">#&gt;  8  2020     4     1     6 KIER   FALSE  99.7     3</span>
<span class="co">#&gt;  9  2020     5     2     1 AGUS   TRUE  144.      7</span>
<span class="co">#&gt; 10  2020     5     2     4 BILL   FALSE 110.      2</span>
<span class="co">#&gt; # … with 22 more rows</span>
</pre></div>
<p>A summary of scores and wins is also available.</p>
<div class="sourceCode" id="cb34"><pre class="downlit">
<span class="fu"><a href="../reference/score_summary.html">score_summary</a></span>()
<span class="co">#&gt; # A tibble: 8 x 16</span>
<span class="co">#&gt;    year  week  team abbrev draft current  seed final  back losses  ties  wins</span>
<span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;fct&gt;  &lt;int&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;  &lt;int&gt; &lt;int&gt; &lt;int&gt;</span>
<span class="co">#&gt; 1  2020     5     1 AGUS       1       2     3    NA     1      2     0     2</span>
<span class="co">#&gt; 2  2020     5     3 PEPE       7       7     5    NA     1      2     0     2</span>
<span class="co">#&gt; 3  2020     5     4 BILL       8       4     2    NA     1      2     0     2</span>
<span class="co">#&gt; 4  2020     5     5 CART       5       3     1    NA     0      1     0     3</span>
<span class="co">#&gt; 5  2020     5     6 KIER       4       6     4    NA     1      2     0     2</span>
<span class="co">#&gt; 6  2020     5     8 CORE       6       8     7    NA     1      2     0     2</span>
<span class="co">#&gt; 7  2020     5    10 NICK       3       1     6    NA     1      2     0     2</span>
<span class="co">#&gt; 8  2020     5    11 KYLE       2       5     8    NA     2      3     0     1</span>
<span class="co">#&gt; # … with 4 more variables: percentage &lt;dbl&gt;, against &lt;dbl&gt;, points &lt;dbl&gt;,</span>
<span class="co">#&gt; #   streak &lt;dbl&gt;</span>
</pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Kiernan Nicholls.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
